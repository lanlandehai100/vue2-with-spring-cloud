<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >  
<mapper namespace="com.taoweilai.user.modules.base.dao.UserDao" >  
      
    <insert id="insert">
    	insert into user(
    		login_name
    	,	password
    	,	name
    	,	phone
    	,	create_date
    	,	update_date
    	)value(
    		#{loginName}
    	,	#{password}
    	,	#{name}
    	,	#{phone}
    	,	now()
    	,	now()
    	)
    </insert>
    
    <update id="update">
    	update user
    	<set>
    	<if test="loginName != null and loginName != ''"> 
    	 	login_name = #{loginName},
    	</if>
    	<if test="password != null and password != ''">
    		password = #{password},
    	</if>
    	<if test="name != null and name != ''">
    		name = #{name},
    	</if>
    	<if test="phone != null and phone != ''">
    		phone = #{phone},
    	</if>
    	<if test="sex != null and sex != ''">
    	    sex = #{sex},
    	</if>
    	<if test="area != null and area != ''">
    	    area = #{area},
    	</if>
    	<if test="grade != null and grade != ''">
    	    grade = #{grade},
    	</if>
    	<if test="subject != null and subject != ''">
    	    subject = #{subject},
    	</if>
    	<if test="score != null and score != ''">
    		score = #{score},
    	</if>
    	<if test="rank != null and rank != ''">
    		rank  = #{rank},
    	</if>
    	<if test="bornDay != null and bornDay != ''">
    		born_day  = #{bornDay},
    	</if>
    	<if test="bornMonth != null and bornMonth != ''">
    		born_month  = #{bornMonth},
    	</if>
    		create_date = now(),
    		update_date = now()
    	</set>
    	where id = #{id}
    </update>
    
    <select id="get" resultType="User">
    	select *
    	from user
    	where id = #{id}
    </select>
    
</mapper>